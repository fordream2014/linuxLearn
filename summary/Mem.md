
* 理论知识
    + 内存性能指标
    ```
    系统内存
        可用内存、剩余内存、buffer/cache
    
    进程内存
        虚拟内存、物理内存、共享内存、SWAP
        虚拟空间分布： 只读段、数据段、堆、文件映射段（包括共享内存）、栈，内核空间
        
    SWAP 
        换入/换出
        
    内存不足时，可以通过以下两种方式进行内存管理：
        内存回收
        OOM 杀死使用内存最多的进程
        
    ```
    + 内存回收
    ```
    文件页 buffer/cache
    匿名页 堆内存
    
    回收方式：直接回收、定期线程回收
    
    当内存不足以分配新的内存请求时，就会尝试采用直接内存回收。这种情况下，如果回收完文件页和匿名页后，内存够用了，把回收回来的
    内存分配给进程就可以了。但如果内存还是不够，就采用OOM。
    
    OOM机制会按照oom_score给进程排序，oom_score越大，进程就越容易被系统杀死。
    
    定期线程回收，是每隔一定的时间，线程对内存阈值进行检查，如果发现低于阈值，就进行内存的回收，回收包括文件页、匿名页。
    究竟是哪一类回收资源多，依赖于swapness值
    
    ```
    + 性能工具
    ```
    top 
        mem
    
    vmstat
    free
    pidstat -r
    ```